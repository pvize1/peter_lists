{% extends "base.html" %}
{% block title %}Book List{% endblock title %}

{% block content %}

  <h2 class="display-2">Book List</h2>
  {% if view.head %}
    <h3>{{ view.head }}</h3>
  {% endif %}

  <div class="row">
    <div class="col-sm">
      <b>Title</b>
    </div>
    <div class="col-sm">
      <b>Sub-Title</b>
    </div>
    <div class="col-sm">
      <b>Author</b>
    </div>
    <div class="col-sm">
      <b>Publisher</b>
    </div>
    <div class="col-sm">
      <b>Status</b>
    </div>
  </div>

  <hr/>

  {% for book in page_obj %}
    <div class="row">
      <div class="col-sm">
        <a href="{% url 'books:update' book.slug %}">{{ book.title }}</a>
      </div>
      <div class="col-sm">
        {{ book.subtitle }}
      </div>
      <div class="col-sm">
        <a href="{% url 'books:author_book_list' book.author %}">{{ book.author }}</a>
      </div>
      <div class="col-sm">
        <a href="{% url 'books:publisher_book_list' book.publisher %}">{{ book.publisher }}</a>
      </div>
      <div class="col-sm">
        {{ book.get_status_display }}
      </div>
    </div>
  {% endfor %}

  <br/>
  {% include "pagination.html" with page_obj=page_obj %}
  <br/>
  <hr/>

  <div class="row">
    <div class="col-3">
      <p>Don't see a book listed here?</p>
    </div>
    <div class="col-4">
      <p></p>
    </div>
    <div class="col-5">
      <p>Book Type</p>
    </div>
  </div>
  <div class="row">
    <div class="col-3">
      <a class="btn btn-primary" href="{% url 'books:add' %}" role="button">Add Book</a>
    </div>
    <div class="col-4">
      <a class="btn btn-primary" href="{% url 'books:list' %}" role="button">All Books</a>
      <a class="btn btn-primary" href="{% url 'books:author_list' %}" role="button">All Authors</a>
      <a class="btn btn-primary" href="{% url 'books:publishers_list' %}" role="button">All Publishers</a>
    </div>
    <div class="col-5">
      <div class="form-group">
        <select class="form-control" id="book_type" name="book_type">
          {% for type in view.book_types %}
            <option value="{{ type.id }}">{{ type }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
  </div>

{% endblock content %}
